# BiB Killer

A collection of Python tools for managing BibTeX files, including merging, deduplication, and citation key extraction.

## Requirements

- Python 3.x
- bibtexparser

Install dependencies:
```bash
pip install bibtexparser
```

## Tools

### 1. Process BibTeX Folder (`bib_folder.py`)

Processes all BibTeX files in a folder and merges them into a single file while removing duplicates.

```bash
python bib_folder.py FOLDER_PATH [-o OUTPUT_FILE] [-k KEYS_FILE]
```

Options:
- `-o, --output`: Output BibTeX file (default: merged.bib)
- `-k, --keys`: Optional output file for citation keys

Example:
```bash
python bib_folder.py references/ -o merged.bib -k citation_keys.txt
```

### 2. Merge BibTeX Files (`bib_joint.py`)

Merges multiple BibTeX files into a single file while removing duplicates.

```bash
python bib_joint.py file1.bib file2.bib [file3.bib ...] [-o OUTPUT_FILE] [-k KEYS_FILE]
```

Options:
- `-o, --output`: Output BibTeX file (default: merged.bib)
- `-k, --keys`: Optional output file for citation keys

Example:
```bash
python bib_joint.py references/*.bib -o merged.bib -k citation_keys.txt
```

### 3. Deduplicate Single BibTeX File (`bib_unique.py`)

Processes a single BibTeX file to count and remove duplicate entries.

```bash
python bib_unique.py input.bib [-o OUTPUT_FILE]
```

Options:
- `-o, --output`: Optional output BibTeX file. If not specified, only statistics will be shown.

Example:
```bash
python bib_unique.py references.bib -o deduplicated.bib
```

### 4. Compare Citation Keys (`compare_keys.py`)

Compares citation keys between two text files containing comma-separated keys (e.g., files generated by `-k` option in other tools).

```bash
python compare_keys.py keys1.txt keys2.txt [-o OUTPUT_FILE]
```

Options:
- `-o, --output`: Output file for comparison results (default: key_comparison.txt)

Example:
```bash
# First, extract keys from two different bib files
python bib_folder.py folder1/ -k keys1.txt
python bib_folder.py folder2/ -k keys2.txt

# Then compare the key files
python compare_keys.py keys1.txt keys2.txt -o comparison.txt
```

The comparison results will show:
- Duplicate keys between the files
- Keys only present in the first file
- Keys only present in the second file
- Summary statistics of the comparison

## Features

- Automatic duplicate detection and removal
- Citation key extraction
- Statistics on total and unique entries
- Consistent formatting of output files
- UTF-8 encoding support
- Error handling for file operations
- Support for processing entire folders of BibTeX files
- Cross-file duplicate key detection
- Citation key comparison between different bibliographies

## Code Structure

- `bib_utils.py`: Shared utility functions for BibTeX processing
- `bib_folder.py`: Tool for processing all BibTeX files in a folder
- `bib_joint.py`: Tool for merging multiple BibTeX files
- `bib_unique.py`: Tool for processing single BibTeX files
- `compare_keys.py`: Tool for comparing citation keys between files

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details. 